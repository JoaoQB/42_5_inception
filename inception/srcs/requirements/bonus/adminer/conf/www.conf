[www]  # Pool name (this is the default and usually sufficient)

# User and group under which PHP-FPM will run (match Nginx user and file owner)
user = www-data
group = www-data

# Define how PHP-FPM listens for incoming connections.
# In this case, it's a TCP socket on port 9000
listen = 9000

# Set ownership of the socket (optional for TCP, critical for UNIX sockets)
listen.owner = www-data
listen.group = www-data

# --- Process Manager Settings ---

# Use dynamic process management (spawns workers as needed)
pm = dynamic

# Maximum number of child processes that can be alive at the same time
pm.max_children = 5

# Number of child processes created on startup
pm.start_servers = 2

# Minimum number of idle (waiting) child processes
pm.min_spare_servers = 1

# Maximum number of idle (waiting) child processes
pm.max_spare_servers = 3
